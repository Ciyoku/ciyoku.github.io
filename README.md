# mktba

مشروع قارئ كتب عربي بسيط وخفيف.

## الفكرة
- الصفحة الرئيسية تعرض عناوين الكتب كنص فقط.
- فتح أي عنوان ينقلك إلى `reader.html` لقراءة النص.
- يمكن إضافة/إزالة الكتاب من المفضلة.
- صفحة `favorites.html` تعرض الكتب المفضلة فقط.
- الفصول اختيارية الآن، ويمكن إضافتها لاحقًا داخل ملفات الكتب.

## البنية
- `index.html`: صفحة العناوين.
- `reader.html`: واجهة القراءة.
- `favorites.html`: صفحة المفضلة.
- `js/index.js`: تحميل وعرض قائمة العناوين.
- `js/favorites-page.js`: تحميل وعرض الكتب المفضلة.
- `js/favorites-store.js`: إدارة المفضلة في `localStorage`.
- `js/books-meta.js`: منطق ميتاداتا الكتب وبناء روابط القارئ.
- `js/app.js`: منطق القارئ (تحميل، تقسيم صفحات، بحث، تنقل).
- `books/list.json`: قائمة الكتب (حد أدنى: `id`, `title`, `parts`).
- `books/<id>/book.txt`: نص الكتاب.

## صيغة البيانات
### `books/list.json`
```json
[
  { "id": "1", "title": "اسم الكتاب", "parts": 1 },
  { "id": "2", "title": "اسم كتاب متعدد الأجزاء", "parts": 3 }
]
```

### قاعدة الروابط
- إذا كان الرابط للجزء الأول أو لكتاب بلا أجزاء، لا يتم إضافة `part`:
  - `reader.html?book=1`
- إذا كان الرابط للجزء الثاني أو أعلى، تتم إضافة `part`:
  - `reader.html?book=2&part=part2`
  - `reader.html?book=2&part=part3`

### نص الكتاب
- استخدم `PAGE_SEPARATOR` للفصل بين الصفحات.
- يمكن إضافة عناوين فصول لاحقًا باستخدام:
```text
## عنوان الفصل
```
