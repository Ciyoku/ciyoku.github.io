# المكتبة الأخبارية

الحمد لله الذي علم بالقلم، وجعل للعلم طريقًا للنهل من بحار المعارف، وبعد:

فهذا المشروع واجهة ويب خفيفة، تُسَهِّل على من يهوى المطالعة العربية قراءة الكتب، مع التصفح على شكل صفحات، والبحث داخل النصوص، وحفظ الكتب المفضلة محليًا في المتصفح.

---

## نظرة عامة
قسمت هذه المكتبة الأخبارية أقسامًا يسيرة البيان:
1. **الصفحة الرئيسية**
   تعرض قائمة الكتب من ملف `books/list.json`، ليختار القارئ منها ما يشاء.
2. **القارئ**
   يعرض الكتاب جزءًا جزءًا وصفحة صفحة، مع فهرس داخلي يسهل الوصول إلى الفصول.
3. **المفضلة**
   يمكن حفظ الكتب المفضلة وإدارتها بواسطة `localStorage`.
4. **البحث**
   البحث داخل الكتاب يتم بتجاوز التشكيل، مع إبراز النتائج.
---

## التقنيات المستخدمة

اقتصر المشروع على ما يلي:

* HTML / CSS / JavaScript (ES Modules)
* تشغيل ثابت عبر أي خادم ملفات بسيط
* لا توجد مكتبات خارجية أو إطار عمل
---
## طريقة التشغيل محليًا

يُستحسن تشغيل المشروع عبر خادم محلي بدل فتح الملفات مباشرة (`file://`) نظرًا لاعتماد التطبيق على `fetch`.

1. شغّل من جذر المشروع:

```powershell
python -m http.server 8000
```

2. افتح الرابط:

```text
http://localhost:8000
```

---

## بنية الملفات المهمة

```text
.
├─ index.html                 # صفحة قائمة الكتب
├─ reader.html                # صفحة القارئ
├─ favorites.html             # صفحة المفضلة
├─ books/
│  ├─ list.json               # بيانات الكتب (id, title, parts)
│  └─ <book-id>/
│     ├─ book.txt             # الجزء الأول
│     ├─ book2.txt            # الجزء الثاني (إن وجد)
│     └─ ...
├─ js/
│  ├─ index.js                # منطق صفحة الفهرس
│  ├─ favorites-page.js       # منطق صفحة المفضلة
│  └─ reader/                 # منطق القارئ (تنقل، بحث، فهرس)
└─ css/
   ├─ base.css
   ├─ catalog.css
   └─ reader.css
```
---
## صيغة بيانات الكتب

ملف `books/list.json` يحتوي على مصفوفة عناصر، كل عنصر بصيغة:

```json
{
  "id": "1",
  "title": "اسم الكتاب",
  "parts": 2
}
```

* `id`: معرف الكتاب ويطابق اسم مجلد الكتاب داخل `books/`.
* `title`: اسم الكتاب المعروض في الواجهة.
* `parts`: عدد الأجزاء، إن كانت القيمة `1` فالمتوقع وجود `book.txt` فقط.

---

## ملاحظات محتوى النص

* يتم تقسيم الصفحات داخل ملف النص بواسطة الفاصل `PAGE_SEPARATOR`.
* عنوان كل فصل يبدأ بسطر يبدأ بـ `##`.
* كل سطر عادي يعرض كفقرة في القارئ.

---

## التخزين المحلي

* المفاتيح المفضلة تحفظ في `localStorage` تحت المفتاح: `shiaLibFavs`.
* لا يتم إرسال أي بيانات إلى خادم خارجي ضمن منطق التطبيق الحالي.
