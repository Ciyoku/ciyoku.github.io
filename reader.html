<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>القارئ | Reader</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/reader.css">
</head>

<body>

    <header>
        <div class="logo">
            <a href="index.html" class="back-link">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M10 5l7 7-7 7"></path>
                    <path d="M4 12h13"></path>
                </svg>
                <span>العودة للمكتبة</span>
            </a>
        </div>
        <div id="bookTitleDisplay" class="reader-title">...</div>
        <div class="nav-icons">
            <a href="favorites.html" class="header-star-link" title="المفضلة" aria-label="المفضلة">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M12 2.25l2.86 5.79 6.39.93-4.62 4.5 1.09 6.37L12 16.84l-5.72 3 1.09-6.37-4.62-4.5 6.39-.93L12 2.25z"></path>
                </svg>
            </a>
            <button type="button" class="icon" id="searchBtn" title="بحث في الكتاب">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <circle cx="11" cy="11" r="7"></circle>
                    <path d="M20 20l-3.5-3.5"></path>
                </svg>
            </button>
            <button type="button" class="icon" id="favBtn" title="إضافة للمفضلة">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M6 3h12a1 1 0 0 1 1 1v17l-7-4-7 4V4a1 1 0 0 1 1-1z"></path>
                </svg>
            </button>
            <button type="button" class="icon" id="sidebarToggle" title="قائمة الفصول">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M9 6h11"></path>
                    <path d="M9 12h11"></path>
                    <path d="M9 18h11"></path>
                    <circle cx="4.5" cy="6" r="1"></circle>
                    <circle cx="4.5" cy="12" r="1"></circle>
                    <circle cx="4.5" cy="18" r="1"></circle>
                </svg>
            </button>
        </div>
    </header>

    <div class="reader-layout">
        <!-- Content Area -->
        <div class="reader-content full-width" id="readerContent">
            <div class="loading">
                <svg class="loading-spinner" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <circle cx="12" cy="12" r="9"></circle>
                    <path d="M21 12a9 9 0 0 0-9-9"></path>
                </svg>
                <p>جاري تحميل الكتاب...</p>
            </div>
        </div>

        <!-- Right Sidebar (Chapters) -->
        <aside class="sidebar hidden" id="sidebar">
            <div class="sidebar-title">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M9 6h11"></path>
                    <path d="M9 12h11"></path>
                    <path d="M9 18h11"></path>
                    <circle cx="4.5" cy="6" r="1"></circle>
                    <circle cx="4.5" cy="12" r="1"></circle>
                    <circle cx="4.5" cy="18" r="1"></circle>
                </svg>
                الفهرس
            </div>
            <ul class="chapter-list" id="chapterList">
                <!-- Chapters injected here -->
            </ul>
        </aside>

        <!-- Search Overlay -->
        <div class="search-overlay" id="searchOverlay">
            <div class="search-overlay-header">
                <h3>بحث</h3>
                <button type="button" class="icon" id="closeSearch" aria-label="إغلاق البحث">
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M6 6l12 12"></path>
                        <path d="M18 6L6 18"></path>
                    </svg>
                </button>
            </div>
            <input type="text" id="searchInput" class="search-input" placeholder="ابحث في هذا الكتاب...">
            <div class="search-results" id="searchResults">

            </div>
        </div>
    </div>

    <!-- Floating Controls -->
    <div class="reader-controls">
        <button type="button" class="icon" data-control="font-up" title="تكبير الخط">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 5v14"></path>
                <path d="M5 12h14"></path>
            </svg>
        </button>
        <button type="button" class="icon" data-control="font-down" title="تصغير الخط">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M5 12h14"></path>
            </svg>
        </button>
        <button type="button" class="icon" data-control="fullscreen" title="ملء الشاشة">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M9 3H3v6"></path>
                <path d="M15 3h6v6"></path>
                <path d="M21 15v6h-6"></path>
                <path d="M3 15v6h6"></path>
            </svg>
        </button>
        <button type="button" class="icon" data-control="top" title="للأعلى">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 19V6"></path>
                <path d="M6 12l6-6 6 6"></path>
            </svg>
        </button>
    </div>

    <footer class="site-footer">
        <div class="footer-copy">© 2026 المكتبة الأخبارية. جميع الحقوق محفوظة.</div>
        <nav class="footer-nav" aria-label="تنقل التذييل">
            <a href="index.html">الرئيسية</a>
            <a href="favorites.html">المفضلات</a>
        </nav>
        <p class="footer-hint">تلميح: يمكنك حفظ الكتاب الحالي من زر الحفظ في الأعلى.</p>
    </footer>

    <script type="module" src="js/app.js"></script>
</body>

</html>
