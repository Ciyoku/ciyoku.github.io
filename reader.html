<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>القارئ | المكتبة الأخبارية</title>
    <meta name="description" content="قارئ المكتبة الأخبارية لقراءة الكتب العربية مع فهرس فصول وبحث داخل النص وحفظ موضع القراءة.">
    <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1">
    <link rel="canonical" href="https://ciyoku.github.io/reader.html">
    <meta property="og:locale" content="ar_AR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="القارئ | المكتبة الأخبارية">
    <meta property="og:description" content="قارئ تفاعلي يدعم البحث داخل الكتاب والأجزاء والفصول.">
    <meta property="og:url" content="https://ciyoku.github.io/reader.html">
    <meta property="og:site_name" content="المكتبة الأخبارية">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="القارئ | المكتبة الأخبارية">
    <meta name="twitter:description" content="قارئ تفاعلي يدعم البحث داخل الكتاب والأجزاء والفصول.">
    <meta name="theme-color" content="#08090b">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; base-uri 'self'; object-src 'none'; frame-ancestors 'none'; form-action 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; font-src 'self'; connect-src 'self'; upgrade-insecure-requests">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/reader.css">
</head>

<body>
    <a class="skip-link" href="#readerContent">تجاوز إلى نص الكتاب</a>

    <header class="site-header">
        <div class="logo">
            <a href="index.html" class="back-link">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M10 5l7 7-7 7"></path>
                    <path d="M4 12h13"></path>
                </svg>
                <span>العودة للمكتبة</span>
            </a>
        </div>

        

        <div id="bookTitleDisplay" class="reader-title" aria-live="polite">...</div>

        <div class="nav-icons">
            <a href="favorites.html" class="header-star-link" title="المفضلة" aria-label="فتح صفحة المفضلة">
                <i data-lucide="book-heart" aria-hidden="true"></i>
            </a>
            <button type="button" class="icon" id="searchBtn" title="بحث في الكتاب" aria-label="فتح البحث" aria-controls="searchOverlay" aria-expanded="false">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <circle cx="11" cy="11" r="7"></circle>
                    <path d="M20 20l-3.5-3.5"></path>
                </svg>
            </button>
            <button type="button" class="icon" id="favBtn" title="تبديل حالة المفضلة" aria-label="تبديل حالة المفضلة" aria-pressed="false">
                <i data-lucide="bookmark" aria-hidden="true"></i>
            </button>
            <button type="button" class="icon" id="sidebarToggle" title="قائمة الفصول" aria-label="فتح أو إغلاق قائمة الفصول" aria-controls="sidebar" aria-expanded="false">
                <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                    <path d="M9 6h11"></path>
                    <path d="M9 12h11"></path>
                    <path d="M9 18h11"></path>
                    <circle cx="4.5" cy="6" r="1"></circle>
                    <circle cx="4.5" cy="12" r="1"></circle>
                    <circle cx="4.5" cy="18" r="1"></circle>
                </svg>
            </button>
        </div>
    </header>

    <main class="reader-main" id="mainContent">
        <h1 class="sr-only">قارئ الكتب</h1>

        <div class="reader-layout">
            <section class="reader-content full-width" id="readerContent" aria-live="polite" aria-label="نص الكتاب">
                <div class="loading">
                    <svg class="loading-spinner" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <circle cx="12" cy="12" r="9"></circle>
                        <path d="M21 12a9 9 0 0 0-9-9"></path>
                    </svg>
                    <p>جاري تحميل الكتاب...</p>
                </div>
            </section>

            <aside class="sidebar hidden" id="sidebar" aria-hidden="true" aria-label="فهرس الفصول">
                <div class="sidebar-title">
                    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M9 6h11"></path>
                        <path d="M9 12h11"></path>
                        <path d="M9 18h11"></path>
                        <circle cx="4.5" cy="6" r="1"></circle>
                        <circle cx="4.5" cy="12" r="1"></circle>
                        <circle cx="4.5" cy="18" r="1"></circle>
                    </svg>
                    الفهرس
                </div>
                <ul class="chapter-list" id="chapterList"></ul>
            </aside>

            <div class="search-overlay" id="searchOverlay" role="dialog" aria-modal="true" aria-labelledby="searchHeading" aria-hidden="true">
                <div class="search-overlay-header">
                    <h2 id="searchHeading">بحث</h2>
                    <button type="button" class="icon" id="closeSearch" aria-label="إغلاق البحث">
                        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                            <path d="M6 6l12 12"></path>
                            <path d="M18 6L6 18"></path>
                        </svg>
                    </button>
                </div>
                <input type="text" id="searchInput" class="search-input" placeholder="ابحث في هذا الكتاب..." aria-describedby="searchHint">
                <div id="searchHint" class="search-hint" aria-live="polite"></div>
                <div class="search-results" id="searchResults" role="listbox" aria-label="نتائج البحث"></div>
            </div>
        </div>
    </main>

    <div class="reader-controls" aria-label="أدوات القراءة">
        <button type="button" class="icon" data-control="font-up" title="تكبير الخط" aria-label="تكبير الخط">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 5v14"></path>
                <path d="M5 12h14"></path>
            </svg>
        </button>
        <button type="button" class="icon" data-control="font-down" title="تصغير الخط" aria-label="تصغير الخط">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M5 12h14"></path>
            </svg>
        </button>
    </div>
<script type="module" src="js/app.js"></script>
    <script type="module" src="js/shared/site-shell.js"></script>
</body>

</html>

